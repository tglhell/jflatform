<!doctype html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
  <title>BMS 2.0</title>

  <link rel="stylesheet" href="../../assets/css/common.css">
  <link rel="shortcut icon" href="../../assets/images/favicon.png" type="image/x-icon">
  <link rel="stylesheet" href="../../assets/css/lib/jquery-ui.css">
  <link rel="stylesheet" href="../../assets/css/lib/daterangepicker.css">
  <link rel="stylesheet" href="../../assets/css/lib/customlib.css">
  <link rel="stylesheet" href="../../assets/css/style.css">
  <link rel="stylesheet" href="../../assets/css/design-review.css">

  <script type="text/javascript" src="../../assets/js/lib/common-lib.js"></script>
  <script type="text/javascript" src="../../assets/js/lib/variable.js"></script>
  <script type="text/javascript" src="../../assets/js/common.js"></script>
  <script type="text/javascript" src="../../assets/js/lib/daterangepicker.js"></script>
</head>

<body>

<div class="bms-wrap">
  <div class="skip-nav">
    <a href="#bmsContainer"><span>컨텐츠 바로가기</span></a>
  </div>

  <div class="bms-header">
    <div class="inner-content">
        <p class="logo"><img src="../assets/images/temp/logo.png" alt=""></p>
        <p class="menu"><img src="../assets/images/temp/menu.png" alt=""></p>
        <p class="util"><img src="../assets/images/temp/util.png" alt=""></p>
    </div>
  </div>

  <!-- container -->
  <div id="bmsContainer" class="bms-container">
    <div class="bms-content">
      <!-- S: 20220531 cont-outer 분리(breadclumb-outer 포함)︎ -->
      <div class="cont-outer">
        <div class="breadclumb-outer">
          <a class="breadclumb"><span>HOME</span></a>
          <a class="breadclumb"><span>Review Tools</span></a>
          <a class="breadclumb"><span>Design Review</span></a>
          <a class="breadclumb regular"><span>Review Management</span></a>
        </div>
      </div>
      <!-- E: 20220531 cont-outer 분리(breadclumb-outer 포함)︎ -->

      <!-- S: 20220531 cont-outer 분리(form 포함)︎ -->
      <div class="cont-outer fullcase">
        <!-- S: [forward_file] -->
        <div class="review-outer-box">
					<div class="design-review-wrap cont-mid"><!-- 별도 css 분리시 해당 파트 클래스 네이밍 부여 -->
						<div class="review-tit-top">
							<div class="tit-box">
								<h1 class="h1-title">Review Management</h1>
							</div>
							<div class="cta-outer">
								<button class="btn btn-submission"><span>New Design Review Submission</span></button>
							</div>
							<button class="btn-favorite"><span><img src="../../assets/images/designreview/btn_favorite.svg" alt="담기"></span></button>
						</div>

						<div class="review-filter-outer">
							<div class="filter-top-area">
								<div class="review-list-filter">
									<div class="search-option-box">
										<span class="search-date">04.25.2022</span>
										<span class="inp-hpn">~</span>
										<span class="search-date">06.25.2022</span>
									</div>
									<button class="btn-option">
										<span class="text">조회 설정</span>
									</button>
								</div>
							</div>

							<div class="review-list-box">
								<ul>
									<li>
										<div class="review-list-item">
											<div class="list-type">
												<span class="ico"><img src="../../assets/images/designreview/ico_video.svg" alt="video"></span>
												<span>Hyundai</span>
											</div>
											<div class="list-text-area">
												<p class="list-tit"><a href="#">[현대차 정몽구 재단] 온드림 소사이어티 위크 2022</a></p>
												<ul class="status-info">
													<li class="fc-color4">검토요청</li>
													<li class="fc-color">피드백 대기</li>
												</ul>
												<ul class="write-info">
													<li class="fc-color4"><span>Write</span>04.25.2022</li>
													<li class="fc-color4"><span>Update</span>04.25.2022</li>
												</ul>
											</div>
										</div>
									</li>
									<li>
										<div class="review-list-item">
											<div class="list-type">
												<span class="ico"><img src="../../assets/images/designreview/ico_image.svg" alt="video"></span>
												<span>Hyundai</span>
											</div>
											<div class="list-text-area">
												<p class="list-tit"><a href="#">[현대차 정몽구 재단] 온드림 소사이어티 위크 2022</a></p>
												<ul class="status-info">
													<li class="fc-color4">검토 종료</li>
												</ul>
												<ul class="write-info">
													<li class="fc-color4"><span>Write</span>04.25.2022</li>
													<li class="fc-color4"><span>Update</span>04.25.2022</li>
												</ul>
											</div>
										</div>
									</li>
									<li>
										<div class="review-list-item">
											<div class="list-type">
												<span class="ico"><img src="../../assets/images/designreview/ico_image.svg" alt="image"></span>
												<span>N</span>
											</div>
											<div class="list-text-area">
												<p class="list-tit"><a href="#">[현대차 정몽구 재단] 온드림 소사이어티 위크 2022</a></p>
												<ul class="status-info">
													<li class="fc-color4">검토요청</li>
													<li class="fc-color">수정대기</li>
												</ul>
												<ul class="write-info">
													<li class="fc-color4"><span>Write</span>04.25.2022</li>
													<li class="fc-color4"><span>Update</span>04.25.2022</li>
												</ul>
											</div>
										</div>
									</li>
									<li>
										<div class="review-list-item">
											<div class="list-type">
												<span class="ico"><img src="../../assets/images/designreview/ico_image.svg" alt="image"></span>
												<span>Hyundai</span>
											</div>
											<div class="list-text-area">
												<p class="list-tit"><a href="#">[현대차 정몽구 재단] 온드림 소사이어티 위크 2022</a></p>
												<ul class="status-info">
													<li class="fc-color4">검토요청</li>
													<li class="fc-color">수정대기</li>
												</ul>
												<ul class="write-info">
													<li class="fc-color4"><span>Write</span>04.25.2022</li>
													<li class="fc-color4"><span>Update</span>04.25.2022</li>
												</ul>
											</div>
										</div>
									</li>
									<li>
										<div class="review-list-item">
											<div class="list-type">
												<span class="ico"><img src="../../assets/images/designreview/ico_file.svg" alt="file"></span>
												<span>Truck &amp; Bus</span>
											</div>
											<div class="list-text-area">
												<p class="list-tit"><a href="#">[현대차 정몽구 재단] 온드림 소사이어티 위크 2022</a></p>
												<ul class="status-info">
													<li class="fc-color4">검토요청</li>
													<li class="fc-color">수정대기</li>
												</ul>
												<ul class="write-info">
													<li class="fc-color4"><span>Write</span>04.25.2022</li>
													<li class="fc-color4"><span>Update</span>04.25.2022</li>
												</ul>
											</div>
										</div>
									</li>
								</ul>
							</div>
						</div>

						<div class="cta-outer">
							<button class="btn btn-type2"><span>More</span></button>
						</div>
					</div>
	
					<div class="design-review-side">
						<div class="review-filter-form">
							<p class="filter-title">조회설정</p>
							<div class="input-outer-box row-type">
								<label for="inpFiter01">기간 상세 설정</label>
								<div class="inp-slice-box">
									<div class="inp-area"><input type="text" id="inpFiter01" class="input-item daterange" placeholder="MM.DD.YYYY"></div>
									<span class="inp-hpn">~</span>
									<div class="inp-area"><input type="text" class="input-item daterange" placeholder="MM.DD.YYYY"></div>
								</div>
							</div>
							<div class="input-outer-box row-type slt-date-range">
								<label for="inpFiter02">기간</label>
								<div class="select-box on">
									<p class="selected-value">6개월</p>
									<ul class="select-items">
										<li>3개월</li>
										<li class="selected">6개월</li>
										<li>9개월</li>
										<li>12개월</li>
									</ul>
								</div>
							</div>
							<div class="input-outer-box row-type">
								<label for="inpFiter03">브랜드</label>
								<div class="select-box">
									<p class="selected-value">전체</p>
									<ul class="select-items">
										<li>전체</li>
										<li>Hyundai</li>
										<li>N</li>
										<li>Truck &amp; Bus</li>
									</ul>
								</div>
							</div>
							<div class="input-outer-box row-type">
								<label for="inpFiter04">진행상태</label>
								<div class="select-box">
									<p class="selected-value">전체</p>
									<ul class="select-items">
										<li>전체</li>
										<li>검토요청</li>
										<li>검토중</li>
										<li>승인</li>
										<li>검토종료</li>
									</ul>
								</div>
							</div>
							<div class="input-outer-box row-type">
								<label for="inpFiter05">제목</label>
								<div class="input-box">
									<input type="text" id="inpFiter05" class="input-item" placeholder="제목을 입력해 주세요.">
									<button class="btn-reset"></button>
								</div>
							</div>
							<div class="cta-outer">
								<button class="btn btn-middle-small btn-type2"><span>초기화</span></button>
								<button class="btn btn-middle-small"><span>조회</span></button>
							</div>
							<button class="btn-side-close btn-search-close"><img src="../../assets/images/designreview/popup_x.svg" alt="닫기"></button> <!-- 닫기 클래스 : btn-search-close -->
						</div>
						<style>
							.review-list-filter.on .btn-option .text {
								display: block;
							}
	
	
							.review-filter-form::-webkit-scrollbar {
								width: 20px;
							}
							.review-filter-form::-webkit-scrollbar-thumb {
								background-color: #ccc;
								border-radius: 10px;
								border: 6px solid #FFF;
							}
							.review-filter-form::-webkit-scrollbar-track {
								background-color: rgba(0,0,0,0);
							}
							/* s : B type */
							.review-outer-box {
								display: flex;
							}
							.design-review-wrap.cont-mid {
								min-width: 100%;
							}
							.design-review-side {
								transition: right .5s cubic-bezier(0.895, 0.03, 0.685, 0.22);
								position: relative;
								top: -120px;
								right: 0;
								z-index: 2;
								min-width: 647px;
							}
							.design-review-side.active {
								transition: right .5s cubic-bezier(0.895, 0.03, 0.685, 0.22);
								right: 647px;
							}



							.review-filter-form {
								max-width: 100%;
								height: 100%;
								padding: 102px 80px;
								border-left: 1px solid #e9e9e9;
								background-color: #fff;
							}
							.review-filter-form .filter-title {
								margin-bottom: 80px;
								font-size: 26px;
								font-weight: 500;
								line-height: 33px;
							}
							.review-filter-form .input-outer-box + .input-outer-box {
								margin-top: 24px;
							}
							.review-filter-form .input-outer-box > label,
							.review-filter-form .input-outer-box div label {
								min-width: 116px;
							}
							.review-filter-form .input-outer-box .input-item {
								border-width: 0 0 1px 0;
								border-color: #e9e9e9;
							}
							.review-filter-form .input-outer-box .input-item:focus {
								border-color: #00aad2;
							}
							.review-filter-form .input-outer-box .selected-value {
								border-width: 0 0 1px 0;
							}
							.review-filter-form .input-outer-box .active .selected-value {
								border-width: 1px;
							}
							.review-filter-form .inp-slice-box .inp-area {
								width: calc(50% - 15px);
								max-width: 100%;
							}
							.review-filter-form .inp-slice-box .inp-area .input-item.date-picker:focus {
								border-color: #00aad2;
							}
							.review-filter-form .inp-slice-box .inp-hpn {
								margin: 0 11px;
							}
							.review-filter-form .inp-slice-box .btn-search {
								margin-left: 8px;
							}
							.review-filter-form .inp-slice-box .radio-group {
								display: flex;
							}
							.review-filter-form .inp-slice-box .radio {
								width: 25%;
								margin: 0;
							}
							.review-filter-form .inp-slice-box .radio + .radio {
								margin-left: 8px;
							}
							.review-filter-form .inp-slice-box .radio span {
								width: 100%;
								padding: 7px 0;
								border: 1px solid #e9e9e9;
								font-size: 16px;
								line-height: 30px;
								text-align: center;
							}
							.review-filter-form .inp-slice-box .radio input[type="radio"]:checked + span,
							.review-filter-form .inp-slice-box .radio input[type="radio"]:checked + span {
								border-color: #00aad2;
								color: #00aad2;
							}
							.review-filter-form .inp-slice-box .radio span::before,
							.review-filter-form .inp-slice-box .radio span::after,
							.review-filter-form .inp-slice-box .radio input[type="radio"]:checked + span::before,
							.review-filter-form .inp-slice-box .radio input[type="radio"]:checked + span::after {
								content: none;
							}
							.review-filter-form .cta-outer {
								margin-top: 64px;
							}
							.review-filter-form .btn-side-close {
								position: absolute;
								top: 104px;
								right: 83px;
							}
							/* e : B type */
						</style>
					</div>
        </div>
        <!-- E: [forward_file] -->
      </div>
      <!-- E: 20220531 cont-outer 분리(form 포함)︎ -->
    </div>
  </div>
  <!--//container -->

  <!-- footer -->
  <div class="bms-footer">
    <div class="footer-inner">
      <div class="foot-logo">
        <img src="../../assets/images/main/foot_logo.png" alt="logo">
      </div>
      <div class="foot-menu">
        <ul>
          <li class="cont-tit2">Sitemap</li>
          <li class="cont-tit2">Newsletter</li>
          <li class="cont-tit2">Glossary</li>
        </ul>
      </div>
      <div class="foot-contact">
        <p class="cont-tit2">Contact Us</p>
        <div>
          <p class="caption htr">Brand Design Support Seoul</p>
          <p class="caption htr">+82 2 6410 8232</p>
        </div>
        <div>
          <p class="caption htr">Brand Design Support Berlin</p>
          <p class="caption htr">+49 30 22 06 62 390</p>
        </div>
        <div>
          <p class="caption htr">Global E-mail</p>
          <p class="caption htr email">guideline@hyundai.com</p>
        </div>
      </div>
      <div class="foot-terms">
        <div class="terms-list">
          <p class="cont-text2">Terms of Use</p>
          <p class="privacy cont-text2">Privacy Policy</p>
        </div>
        <p class="copy caption htr fc-color4">© 2022 Hyundai Motor Company</p>
      </div>
    </div>
  </div>
  <!--//footer -->

  <div class="btn-top-box">
    <button title="move to top" role="button" class="btn-top">
      <span>top</span>
    </button>
  </div>
</div>

</body>

<script>
	function reviewManagementFunc () {
		eDateTar = [$('.review-list-filter .text'), $('.daterange'), $('.slt-date-range .select-items'), $('.search-date'), $('html, body')];
		prntDateTar = [$('.review-outer-box'), $('.review-list-filter'), $('.design-review-side')];
		sltMon = parseInt(eDateTar[2].find('li.selected').text());
		eDateTar[0].on('click', function () {
			$(this).closest(prntDateTar[1]).addClass('on');
			$(this).closest(prntDateTar[0]).find(prntDateTar[2]).addClass('active');
			sideMenuHgt ($(this));
		});
		$('.btn-search-close').on('click', function () {
			$(this).closest(prntDateTar[0]).find(prntDateTar[1]).removeClass('on');
			$(this).closest(prntDateTar[0]).find(prntDateTar[2]).removeClass('active');
		});
		eDateTar[2].on('click', 'li', function () {
			const chkMon = parseInt($(this).text());
			sltMon = chkMon;
			dateInp ();
		});
		$('.bms-wrap').on('click', function (e) {
			if(!$('.design-review-side, .review-list-filter .btn-option').has(e.target).length) {
				if (prntDateTar[2].hasClass('active')) {
					prntDateTar[1].removeClass('on');
					prntDateTar[2].removeClass('active');
				}
			}
		});
		eDateTar[1].on('focusin', function () {
			let mPosVal = -parseInt($('html').css('top')) + twoDig[0];
			$('.daterangepicker').css('margin-top', mPosVal);
			eDateTar[1].on('apply.daterangepicker', function(ev, picker) {
				const sltBoxTar = $(this).closest('.review-filter-form').find('.slt-date-range');
				const sltBoxTxt = sltBoxTar.find('li:first-of-type').text();
				sDateVal = picker.startDate.format('MM.DD.YYYY');
				eDateVal = picker.endDate.format('MM.DD.YYYY');
				eDateTar[2].find('li').removeClass('selected').closest('.select-box').removeClass('on').find('.selected-value').text(sltBoxTxt);
				actDateInp ();
			});
		});
		dateInp ();
	}

	function dateInp () {
		nDate = new Date();
		dateRangeOptions = {};
		chkDate = [nDate.getFullYear(), nDate.getMonth() + 1, nDate.getDate(), nDate.getMonth() + (sltMon + 1)];
		chkDate[1] = String(chkDate[1]).padStart(2, '0');
		chkDate[2] = String(chkDate[2]).padStart(2, '0');
		sDateVal = chkDate[1] + '.' + chkDate[2] + '.' + chkDate[0];
		sLastDate = new Date(chkDate[0], chkDate[1], 0).getDate();
		if ((parseInt(chkDate[1]) + sltMon) > 12) {
			let sum = 12 - (parseInt(chkDate[1]) + sltMon);
			chkDate[3] = -sum;
			chkDate[0]++;
		}
		eLastDate = new Date(chkDate[0], chkDate[3], 0).getDate();
		chkDate[3] = String(chkDate[3]).padStart(2, '0');
		if (chkDate[2] > eLastDate) {
			eDateVal = chkDate[3] + '.' + eLastDate + '.' + chkDate[0];
		} else if (chkDate[2] >= sLastDate) {
			if (sLastDate < eLastDate) {
				eDateVal = chkDate[3] + '.' + eLastDate + '.' + chkDate[0];
			}
		} else {
			eDateVal = chkDate[3] + '.' + chkDate[2] + '.' + chkDate[0];
		}
		actDateInp ();
	}
	
	function actDateInp () {
		dateRangeOptions = {
			startDate: sDateVal,
			endDate: eDateVal,
			autoUpdateInput: false,
			locale: {
				// "format": 'YYYY-MM-DD HH:mm:ss',
				"daysOfWeek": ["월", "화", "수", "목", "금", "토", "일"],
				"monthNames": ["01월", "02월", "03월", "04월", "05월", "06월", "07월", "08월", "09월", "10월", "11월", "12월"],
				// "applyLabel": "확인",
				// "cancelLabel": "취소",
				cancelLabel: 'Clear'
			},
			autoApply: true,
		}
		eDateTar[1].daterangepicker(dateRangeOptions);
		eDateTar[1].eq(0).val(sDateVal);
		eDateTar[1].eq(1).val(eDateVal);
		eDateTar[3].eq(0).text(sDateVal);
		eDateTar[3].eq(1).text(eDateVal);
	}

	function sideMenuHgt (elem) {
		const topPosHgt =+ Math.round($('.bms-header').height() + parseInt($('.bms-container').css('padding-top')) + $('.breadclumb-outer').height());
		const btmPosHgt =+ Math.round($('.bms-footer').height() + parseInt($('.bms-container').css('padding-bottom')) + $('.cont-mid > .cta-outer').outerHeight(true) + irNum[6]);
		const _this = elem.closest('.review-outer-box');
		_this.find('.design-review-side').css('top', -topPosHgt);
		if ($(window).width() <= pc) {
			_this.find('.review-filter-form').css('height', 'calc(100% + ' + btmPosHgt + 'px)');
		} else {
			_this.find('.review-filter-form').css('height', 'calc(100% + ' + btmPosHgt + 'px)');
		}
		console.log($('.cont-mid > .cta-outer').outerHeight(true));
		console.log($('.bms-footer').height());
		console.log(parseInt($('.bms-container').css('padding-bottom')));
		console.log(btmPosHgt);
	}

	reviewManagementFunc ();
	// simplebar scroll : 커스텀 스크롤 참고
	// https://github.com/Grsmto/simplebar

	customSelect ();
</script>
</html>